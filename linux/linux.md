# 开始学习Linux了

## 开机

开机分为一下几步：

* 内核的引导
* 运行 init
* 系统初始化
* 建立终端
* 用户登录系统

![avatar](bg2013081707.png)

Linux有7个运行级别：

* 运行级别0：系统停机状态，系统默认运行级别不能设为0，否则不能正常启动
* 运行级别1：单用户工作状态，root权限，用于系统维护，禁止远程登陆
* 运行级别2：多用户状态(没有NFS)
* 运行级别3：完全的多用户状态(有NFS)，登陆后进入控制台命令行模式
* 运行级别4：系统未使用，保留
* 运行级别5：X11控制台，登陆后进入图形GUI模式
* 运行级别6：系统正常关闭并重启，默认运行级别不能设为6，否则不能正常启动

登陆又分三种：

* 命令行登陆
* ssh登陆
* 图形界面登陆

## 关机

关机正确流程：sync > shutdown > reboot > halt

* sync 将数据由内存同步到硬盘中。一定要先做这一步！
* shutdown 关机指令
* shutdown –h。后面加时间，表示关机的时间，now表示马上
* shutdown –r 后加时间，表示重启
* reboot 就是重启，等同于 shutdown –r now
* halt 关闭系统，等同于shutdown –h now 和 poweroff
* 关机指令好友init0，重启可以是init6

## Linux结构目录

ls / 可以查看所有目录
我们可以发现Linux的目录是成树状的

总结目录：

系统启动必须：

* /boot：存放的启动Linux 时使用的内核文件，包括连接文件以及镜像文件。
* /etc：存放所有的系统需要的配置文件和子目录列表，更改目录下的文件可能会导致系统不能启动。
* /lib：存放基本代码库（比如c++库），其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。
* /sys： 这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统 sysfs 。sysfs文件系统集成了下面3种文件系统的信息：针对进程信息的proc文件系统、针对设备的devfs文件系统以及针对伪终端的devpts文件系统。该文件系统是内核设备树的一个直观反映。当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中
指令集合：

* /bin：存放着最常用的程序和指令
* /sbin：只有系统管理员能使用的程序和指令。
外部文件管理：

* /dev ：Device(设备)的缩写, 存放的是Linux的外部设备。注意：在Linux中访问设备和访问文件的方式是相同的。
* /media：类windows的其他设备，例如U盘、光驱等等，识别后linux会把设备放到这个目录下。
* /mnt：临时挂载别的文件系统的，我们可以将光驱挂载在/mnt/上，然后进入该目录就可以查看光驱里的内容了。
临时文件：

* /run：是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。如果你的系统上有 /var/run 目录，应该让它指向 run。
* /lost+found：一般情况下为空的，系统非法关机后，这里就存放一些文件。
* /tmp：这个目录是用来存放一些临时文件的。
账户：

* /root：系统管理员的用户主目录。
* /home：用户的主目录，以用户的账号命名的。
* /usr：用户的很多应用程序和文件都放在这个目录下，类似于windows下的program files目录。
* /usr/bin：系统用户使用的应用程序与指令。
* /usr/sbin：超级用户使用的比较高级的管理程序和系统守护程序。
* /usr/src：内核源代码默认的放置目录。
运行过程中要用：

* /var：存放经常修改的数据，比如程序运行的日志文件（/var/log 目录下）。
* /proc：管理内存空间！虚拟的目录，是系统内存的映射，我们可以直接访问这个目录来，获取系统信息。这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件来做修改。
扩展用的：

* /opt：默认是空的，我们安装额外软件可以放在这个里面。
* /srv：存放服务启动后需要提取的数据（不用服务器就是空）

## Linux忘记root密码

[进入单用户模式可以修改，点击查看详情](https://www.runoob.com/linux/linux-forget-password.html)

## Linux远程登陆

inux系统中是通过ssh服务实现的远程登录功能，默认ssh服务端口号为 22
这块不太懂，后面在补充

## 文件基本属性

Linux系统对不同的用户访问同一文件（包括目录文件）的权限做了不同的规定。
在Linux中我们可以使用ll或者ls –l命令来显示一个文件的属性以及文件所属的用户和组

chgrp：更改文件属组

`chgrp [-R] 属组名 文件名`

chown：更改文件属主，也可以同时更改文件属组

`chown [-R] 属主名：属组名 文件名`

Linux文件的基本权限就有九个，分别是owner/group/others三种身份各有自己的read/write/execute权限。
每个权限都是一个分数：r=4；w=2；x=1。用户的权限数等于各权限相加

还有一种权限赋值：`chmod u=rwx,g=rx,o=r`

每个文件的属性由左边第一部分的10个字符（如上的“dr-xr-xr-x”）来确定。我们把十个字符拆开看：

10位字符表示：
0位：确定文件类型
1-3位：确定该文件的所有者对文件的权限 owner
4-6位：确定所有者的同组用户拥有该文件的权限 group
7-9位：确定其他用户拥有该文件的权限 others
第一个字符：代表这个文件的类型，是目录、文件，还是一个链接等等
[ d ] 目录
[ - ] 文件
[ l  ] 链接文档(link file)
[ b ] 可供储存的接口设备(可随机存取装置)
[ c ] 串行端口设备，例如键盘、鼠标(一次性读取装置)
接下来的字符：以三个一组分成三组，用 r、w、x 三个参数
的组合表示，位置不会改变
[ r ] 代表可读(read)
[ w ] 代表可写(write)
[ x ] 代表可执行(execute)
[ - ] 没有权限

## Linux文件与目录管理

路径：

* 绝对路径：路径的写法，由根目录 / 写起，例如： /usr/share/doc 这个目录。
* 相对路径：路径的写法，不是由 / 写起，例如由 /usr/share/doc 要到 /usr/share/man 底下时，可以写成： cd ../man 这就是相对路径的写法啦！

* ls: 列出目录
* cd：切换目录
* pwd：显示目前的目录
* mkdir：创建一个新的目录
* rmdir：删除一个空的目录
* cp: 复制文件或目录
* rm: 移除文件或目录
* mv: 移动文件与目录，或修改文件与目录的名称

